## What is an HTTP flood DDoS attack?

An HTTP flood attack is a type of volumetric [distributed denial-of-service (DDoS)](https://www.cloudflare.com/learning/ddos/what-is-a-ddos-attack/) attack designed to overwhelm a targeted server with [HTTP requests](https://www.cloudflare.com/learning/ddos/glossary/hypertext-transfer-protocol-http/). Once the target has been saturated with requests and is unable to respond to normal traffic, [denial-of-service](https://www.cloudflare.com/learning/ddos/glossary/denial-of-service/) will occur for additional requests from actual users.

![An HTTP Flood](https://www.cloudflare.com/img/learning/ddos/http-flood-ddos-attack/http-flood-attack.png "An HTTP Flood")

## How does an HTTP flood attack work?

HTTP flood attacks are a type of “layer 7” DDoS attack. [Layer 7](https://www.cloudflare.com/learning/ddos/what-is-layer-7/) is the application layer of the [OSI model](https://www.cloudflare.com/learning/ddos/glossary/open-systems-interconnection-model-osi/), and refers to internet protocols such as as HTTP. HTTP is the basis of browser-based internet requests, and is commonly used to load webpages or to send form contents over the Internet. Mitigating application layer attacks is particularly complex, as the malicious traffic is difficult to distinguish from normal traffic.

In order to achieve maximum efficiency, malicious actors will commonly employ or create [botnets](https://www.cloudflare.com/learning/ddos/what-is-a-ddos-botnet/) in order to maximize the impact of their attack. By utilizing many devices infected with [malware](https://www.cloudflare.com/learning/ddos/glossary/malware/), an attacker is able to leverage their efforts by launching a larger volume of attack traffic.

#### There are two varieties of HTTP flood attacks:

1. **HTTP GET attack** - in this form of attack, multiple computers or other devices are coordinated to send multiple requests for images, files, or some other asset from a targeted server. When the target is inundated with incoming requests and responses, denial-of-service will occur to additional requests from legitimate traffic sources.
2. **HTTP POST attack** - typically when a form is submitted on a website, the server must handle the incoming request and push the data into a persistence layer, most often a database. The process of handling the form data and running the necessary database commands is relatively intensive compared to the amount of processing power and bandwidth required to send the POST request. This attack utilizes the disparity in relative resource consumption, by sending many post requests directly to a targeted server until it's capacity is saturated and denial-of-service occurs.

## How can an HTTP flood be mitigated?

As mentioned earlier, mitigating layer 7 attacks is complex and often multifaceted. One method is to implement a challenge to the requesting machine in order to test whether or not it is a [bot](https://www.cloudflare.com/learning/bots/what-is-a-bot/), much like a captcha test commonly found when creating an account online. By giving a requirement such as a JavaScript computational challenge, many attacks can be mitigated.

Other avenues for stopping HTTP floods include the use of a [web application firewall (WAF)](https://www.cloudflare.com/learning/ddos/glossary/web-application-firewall-waf/), managing an IP reputation database in order to track and selectively block malicious traffic, and on-the-fly analysis by engineers. Having an advantage of scale with over 20 million Internet properties allows Cloudflare the ability to analyse traffic from a variety of sources and mitigate potential attacks with quickly updated WAF rules and other mitigation strategies to eliminate application layer DDoS traffic.

## What is a UDP flood attack?

A UDP flood is a type of [denial-of-service](https://www.cloudflare.com/learning/ddos/glossary/denial-of-service/) attack in which a large number of [User Datagram Protocol (UDP)](https://www.cloudflare.com/learning/ddos/glossary/user-datagram-protocol-udp/) packets are sent to a targeted server with the aim of overwhelming that device’s ability to process and respond. The [firewall](https://www.cloudflare.com/learning/security/what-is-a-firewall/) protecting the targeted server can also become exhausted as a result of UDP flooding, resulting in a denial-of-service to legitimate traffic.

## How does a UDP flood attack work?

A UDP flood works primarily by exploiting the steps that a server takes when it responds to a UDP packet sent to one of it’s ports. Under normal conditions, when a server receives a UDP packet at a particular port, it goes through two steps in response:

1. The server first checks to see if any programs are running which are presently listening for requests at the specified port.
2. If no programs are receiving packets at that port, the server responds with a [ICMP](https://www.cloudflare.com/learning/ddos/glossary/internet-control-message-protocol-icmp/) (ping) packet to inform the sender that the destination was unreachable.

A UDP flood can be thought of in the context of a hotel receptionist routing calls. First, the receptionist receives a phone call where the caller asks to be connected to a specific room. The receptionist then needs to look through the list of all rooms to make sure that the guest is available in the room and willing to take the call. Once the receptionist realizes that the guest is not taking any calls, they have to pick the phone back up and tell the caller that the guest will not be taking the call. If suddenly all the phone lines light up simultaneously with similar requests then they will quickly become overwhelmed.

![DDoS bot traffic metaphor](https://www.cloudflare.com/img/learning/ddos/udp-flood-ddos-attack/amplification-ddos-attack-metaphor.png "DDoS bot traffic metaphor")

As each new UDP packet is received by the server, it goes through steps in order to process the request, utilizing server resources in the process. When UDP packets are transmitted, each packet will include the [IP address](https://www.cloudflare.com/learning/dns/glossary/what-is-my-ip-address/) of the source device. During this type of [DDoS attack](https://www.cloudflare.com/learning/ddos/what-is-a-ddos-attack/), an attacker will generally not use their own real IP address, but will instead [spoof](https://www.cloudflare.com/learning/ddos/glossary/ip-spoofing/) the source IP address of the UDP packets, impeding the attacker’s true location from being exposed and potentially saturated with the response packets from the targeted server.

As a result of the targeted server utilizing resources to check and then respond to each received UDP packet, the target’s resources can become quickly exhausted when a large flood of UDP packets are received, resulting in denial-of-service to normal traffic.

![UDP flood DDoS attack animation](https://www.cloudflare.com/img/learning/ddos/udp-flood-ddos-attack/udp-flood-attack-ddos-attack-diagram.png "UDP flood DDoS attack animation")

## How is a UDP flood attack mitigated?

Most operating systems limit the response rate of ICMP packets in part to disrupt DDoS attacks that require ICMP response. One drawback of this type of mitigation is that during an attack legitimate packets may also be filtered in the process. If the UDP flood has a volume high enough to saturate the state table of the targeted server’s firewall, any mitigation that occurs at the server level will be insufficient as the bottleneck will occur upstream from the targeted device.

## What is a NTP amplification attack?

An NTP amplification attack is a reflection-based volumetric [distributed denial-of-service (DDoS)](https://www.cloudflare.com/learning/ddos/what-is-a-ddos-attack/) attack in which an attacker exploits a Network Time Protocol (NTP) server functionality in order to overwhelm a targeted network or server with an amplified amount of [UDP](https://www.cloudflare.com/learning/ddos/glossary/user-datagram-protocol-udp/) traffic, rendering the target and its surrounding infrastructure inaccessible to regular traffic.

## How does a NTP amplification attack work?

All amplification attacks exploit a disparity in bandwidth cost between an attacker and the targeted web resource. When the disparity in cost is magnified across many requests, the resulting volume of traffic can disrupt network infrastructure. By sending small queries that result in large responses, the malicious user is able to get more from less. When multiplying this magnification by having each [bot](https://www.cloudflare.com/learning/bots/what-is-a-bot/) in a [botnet](https://www.cloudflare.com/learning/ddos/what-is-a-ddos-botnet/) make similar requests, the attacker is both obfuscated from detection and reaping the benefits of greatly increased attack traffic.

[DNS flood attacks](https://www.cloudflare.com/learning/ddos/dns-flood-ddos-attack/) differ from [DNS amplification attacks](https://www.cloudflare.com/learning/ddos/dns-amplification-ddos-attack/). Unlike DNS floods, DNS amplification attacks reflect and amplify traffic off unsecured [DNS](https://www.cloudflare.com/learning/ddos/glossary/domain-name-system-dns/) servers in order to hide the origin of the attack and increase its effectiveness. DNS amplification attacks use devices with smaller bandwidth connections to make numerous requests to unsecured DNS servers. The devices make many small requests for very large [DNS records](https://www.cloudflare.com/learning/dns/dns-records/), but when making the requests, the attacker forges the return address to be that of the intended victim. The amplification allows the attacker to take out larger targets with only limited attack resources.

NTP amplification, much like DNS amplification, can be thought of in the context of a malicious teenager calling a restaurant and saying “I’ll have one of everything, please call me back and tell me my whole order.” When the restaurant asks for a callback number, the number given is the targeted victim’s phone number. The target then receives a call from the restaurant with a lot of information that they didn’t request.

The Network Time Protocol is designed to allow internet connected devices to synchronize their internal clocks, and serves an important function in internet architecture. By exploiting the monlist command enabled on some NTP servers, an attacker is able to multiply their initial request traffic, resulting in a large response. This command is enabled by default on older devices, and responds with the last 600 source IP addresses of requests which have been made to the NTP server. The monlist request from a server with 600 addresses in its memory will be 206 times larger than the initial request. This means that an attacker with 1 GB of internet traffic can deliver a 200+ gigabyte attack - a massive increase in the resulting attack traffic.

#### An NTP amplification attack can be broken down into four steps:

1. The attacker uses a botnet to send UDP packets with [spoofed IP](https://www.cloudflare.com/learning/ddos/glossary/ip-spoofing/) addresses to a NTP server which has its monlist command enabled. The spoofed IP address on each packet points to the real IP address of the victim.
2. Each UDP packet makes a request to the NTP server using its monlist command, resulting in a large response.
3. The server then responds to the spoofed address with the resulting data.
4. The IP address of the target receives the response and the surrounding network infrastructure becomes overwhelmed with the deluge of traffic, resulting in a [denial-of-service](https://www.cloudflare.com/learning/ddos/glossary/denial-of-service/).

![NTP Amplification DDoS Attack](https://www.cloudflare.com/img/learning/ddos/ntp-amplification-ddos-attack/ntp-amplification-attack-ddos-attack-diagram-2.png)

As a result of the attack traffic looking like legitimate traffic coming from valid servers, mitigating this sort of attack traffic without blocking real NTP servers from legitimate activity is difficult. Because UDP packets do not require a handshake, the NTP server will send large responses to the targeted server without verifying that the request is authentic. These facts coupled with a built-in command, which by default sends a large response, makes NTP servers an excellent reflection source for DDoS amplification attacks.

## How is a NTP amplification attack mitigated?

For an individual or company running a website or service, mitigation options are limited. This comes from the fact that the individual’s server, while it might be the target, is not where the main effect of a volumetric attack is felt. Due to the high amount of traffic generated, the infrastructure surrounding the server feels the impact. The Internet Service Provider (ISP) or other upstream infrastructure providers may not be able to handle the incoming traffic without becoming overwhelmed. As a result, the ISP may [blackhole](https://www.cloudflare.com/learning/ddos/glossary/ddos-blackhole-routing/) all traffic to the targeted victim’s IP address, protecting itself and taking the target’s site off-line. Mitigation strategies, aside from offsite protective services like Cloudflare DDoS protection, are mostly preventative internet infrastructure solutions.

#### Disable monlist - reduce the number of NTP servers which support the monlist command.

A simple solution to patching the monlist vulnerability is to disable the command. All version of the NTP software prior to version 4.2.7 are vulnerable by default. By upgrading a NTP server to 4.2.7 or above, the command is disabled, patching the vulnerability. If upgrading is not possible, following the US-CERT instructions will allow a server’s admin to make the necessary changes.

#### Source IP verification – stop spoofed packets leaving the network.

Because the UDP requests being sent by the attacker’s botnet must have a source [IP address](https://www.cloudflare.com/learning/dns/glossary/what-is-my-ip-address/) spoofed to the victim’s IP address, a key component in reducing the effectiveness of UDP-based amplification attacks is for internet service providers (ISPs) to reject any internal traffic with spoofed IP addresses. If a packet is being sent from inside the network with a source address that makes it appear like it originated outside the network, it’s likely a spoofed packet and can be dropped. Cloudflare highly recommends that all providers implement ingress filtering, and at times will reach out to ISPs who are unknowingly taking part in DDoS attacks (in violation of BCP38) and help them realize their vulnerability.

The combination of disabling monlist on NTP servers and implementing ingress filtering on networks which presently allow IP spoofing is an effective way to stop this type of attack before it reaches its intended network.

## What is the QUIC protocol?

The [QUIC protocol](https://blog.cloudflare.com/head-start-with-quic/) is a new way to send data over the Internet that is faster, more efficient, and more secure than earlier protocols. QUIC is a transport protocol, which means it affects the way data travels over the Internet. Like almost any Internet protocol, QUIC can be used maliciously to carry out [DDoS attacks.](https://www.cloudflare.com/learning/ddos/what-is-a-ddos-attack/)

In more technical terms, the QUIC protocol is a transport layer protocol that can theoretically replace both [TCP](https://www.cloudflare.com/learning/ddos/glossary/tcp-ip/) (a transport protocol) and [TLS](https://www.cloudflare.com/learning/ssl/transport-layer-security-tls/) (an [encryption](https://www.cloudflare.com/learning/ssl/what-is-encryption/) protocol). In July 2019, about 3% of all websites were using QUIC, and proponents of the protocol, [including Cloudflare](https://blog.cloudflare.com/the-quicening/), hope that adoption rates continue to rise over time. The latest version of the [HTTP](https://www.cloudflare.com/learning/ddos/glossary/hypertext-transfer-protocol-http/) protocol, HTTP/3, runs over QUIC.

## How does the QUIC protocol work?

The QUIC protocol aims to be both faster and more secure than traditional Internet connections. For increased speed it uses the [UDP](https://www.cloudflare.com/learning/ddos/glossary/user-datagram-protocol-udp/) transport protocol, which is faster than TCP but less reliable. It sends several streams of data at once to make up for any data that gets lost along the way, a technique known as multiplexing.

For better security, everything sent over QUIC is automatically encrypted. Ordinarily, data has to be sent over [HTTPS](https://www.cloudflare.com/learning/ssl/what-is-https/) to be encrypted. But QUIC builds TLS encryption into the normal communication process.

This built-in encryption speeds up the protocol still further. In typical HTTPS, a three-way TCP handshake has to be completed at the transport layer before the multi-step [TLS handshake](https://www.cloudflare.com/learning/ssl/what-happens-in-a-tls-handshake/) can begin. This all has to happen before any actual data can be sent between client and server. QUIC combines these two handshakes so that they happen all at once: the client and server acknowledge the connection is open and jointly generate TLS [encryption keys](https://www.cloudflare.com/learning/ssl/what-is-a-cryptographic-key/) at the same time.

## What is a QUIC flood?

A QUIC flood DDoS attack is when an attacker attempts to deny service by overwhelming a targeted server with data sent over QUIC. The victimized server has to process all the QUIC data it receives, slowing service to legitimate users and, in some cases, crashing the server altogether. DDoS attacks over QUIC are hard to block because:

- QUIC uses UDP, which provides very little information to the packet recipient that they can use to block the packets
- QUIC encrypts packet data so that the recipient of the data cannot easily tell if it is legitimate or not

A QUIC flood attack can be carried out using a number of methods, but the QUIC protocol is particularly vulnerable to reflection-based DDoS attacks.

## What is a QUIC reflection attack?

In a reflection DDoS attack, the attacker spoofs the victim's [IP address](https://www.cloudflare.com/learning/dns/glossary/what-is-my-ip-address/) and requests information from several servers. When the servers respond, all the information goes to the victim instead of the attacker. Imagine someone maliciously sending out letters with someone else's return address so that the second person gets deluged with unwanted mail.

With the QUIC protocol, it is possible to carry out reflection attacks using the initial "hello" message that starts a QUIC connection. Unlike in a TCP connection, a QUIC connection does not open with the server sending a simple "[ACK](https://www.cloudflare.com/learning/ddos/what-is-an-ack-flood/)" message. Because QUIC combines the UDP transport protocol with TLS encryption, the server includes its [TLS certificate](https://www.cloudflare.com/learning/ssl/what-is-an-ssl-certificate/) in its first reply to the client. This means that the server's first message is much larger than the client's first message. By spoofing the victim's IP address and sending a "hello" message to a server, the attacker tricks the server into sending large amounts of unwanted data to the victim.

To partially mitigate this type of attack, the architects of the QUIC protocol set a minimum size for the initial client hello message so that it costs the attacker considerable bandwidth to send a large amount of fake client hello messages. However, the server hello is still larger than the client hello, so an attack of this nature remains a possibility.

## Are QUIC floods similar to UDP floods?

A [UDP flood](https://www.cloudflare.com/learning/ddos/udp-flood-ddos-attack/) is a type of DDoS attack that overwhelms a targeted server with unwanted UDP packets. QUIC uses UDP, but a QUIC flood is not necessarily the same as a UDP flood.

One way a UDP flood can take down a targeted server is by sending spoofed UDP packets to a specific port on a server that is not actually in use. The server has to reply to all the packets with an [ICMP](https://www.cloudflare.com/learning/ddos/glossary/internet-control-message-protocol-icmp/) error message, which takes up processing power and slows the server down. This attack would be possible using QUIC, but it is usually cheaper for the attacker to carry it out over UDP alone, without the added overhead of generating QUIC packets.

## What is a SSDP DDoS Attack?

A Simple Service Discovery Protocol (SSDP) attack is a reflection-based [distributed denial-of-service (DDoS)](https://www.cloudflare.com/learning/ddos/what-is-a-ddos-attack/) attack that exploits Universal Plug and Play (UPnP) networking protocols in order to send an amplified amount of traffic to a targeted victim, overwhelming the target’s infrastructure and taking their web resource offline.

Here is a free tool to check to see if your public IP has any exposed SSDP devices: [check SSDP DDoS vulnerability](https://badupnp.benjojo.co.uk/).

## How does a SSDP Attack work?

![SSDP DDoS Attack](https://www.cloudflare.com/img/learning/ddos/ssdp-ddos-attack/ping-of-death.png)

Under normal circumstances, the SSDP protocol is used to allow UPnP devices to broadcast their existence to other devices on the network. For example, when a UPnP printer is connected to a typical network, after it receives an [IP address](https://www.cloudflare.com/learning/ddos/glossary/tcp-ip/), the printer is able to advertise its services to computers on the network by sending a message to a special IP address called a multicast address. The multicast address then tells all the computers on the network about the new printer. Once a computer hears the discovery message about the printer, it makes a request to the printer for a complete description of its services. The printer then responds directly to that computer with a complete list of everything it has to offer. An SSDP attack exploits that final request for services by asking the device to respond to the targeted victim.

#### Here are the 6 steps of a typical SSDP DDoS attack:

1. First the attacker conducts a scan looking for plug-and-play devices that can be utilized as amplification factors.
2. As the attacker discovers networked devices, they create a list of all the devices that respond.
3. The attacker creates a [UDP](https://www.cloudflare.com/learning/ddos/glossary/user-datagram-protocol-udp/) packet with the [spoofed IP address](https://www.cloudflare.com/learning/ddos/glossary/ip-spoofing/) of the targeted victim.
4. The attacker then uses a [botnet](https://www.cloudflare.com/learning/ddos/what-is-a-ddos-botnet/) to send a spoofed discovery packet to each plug-and-play device with a request for as much data as possible by setting certain flags, specifically ssdp:rootdevice or ssdp:all.
5. As a result, each device will send a reply to the targeted victim with an amount of data up to about 30 times larger than the attacker’s request.
6. The target then receives a large volume of traffic from all the devices and becomes overwhelmed, potentially resulting in [denial-of-service](https://www.cloudflare.com/learning/ddos/glossary/denial-of-service/) to legitimate traffic.

## How is a SSDP Attack mitigated?

For network administrators, a key mitigation is to block incoming UDP traffic on port 1900 at the [firewall](https://www.cloudflare.com/learning/security/what-is-a-firewall/). Provided the volume of traffic isn’t enough to overwhelm the network infrastructure, filtering traffic from this port will likely be able to mitigate such an attack. For a deeper dive on SSDP attacks and more mitigation strategies, explore [technical details about an SSDP attack](https://blog.cloudflare.com/ssdp-100gbps/).

Do you want to know if you have a vulnerable SSDP service that can be used in a DDoS attack? As mentioned before, we’ve created a free tool to check to see if your public IP has any exposed SSDP devices. To check for a SSDP DDoS vulnerability, you can use this [free tool](https://badupnp.benjojo.co.uk/).

## What is a Ping (ICMP) flood attack?

A ping flood is a [denial-of-service](https://www.cloudflare.com/learning/ddos/glossary/denial-of-service/) attack in which the attacker attempts to overwhelm a targeted device with ICMP echo-request packets, causing the target to become inaccessible to normal traffic. When the attack traffic comes from multiple devices, the attack becomes a [DDoS](https://www.cloudflare.com/learning/ddos/what-is-a-ddos-attack/) or distributed denial-of-service attack.

## How does a Ping flood attack work?

The [Internet Control Message Protocol (ICMP)](https://www.cloudflare.com/learning/ddos/glossary/internet-control-message-protocol-icmp/), which is utilized in a Ping Flood attack, is an internet layer protocol used by network devices to communicate. The network diagnostic tools [traceroute](https://en.wikipedia.org/wiki/Traceroute) and [ping](https://en.wikipedia.org/wiki/Ping_(networking_utility)) both operate using ICMP. Commonly, ICMP echo-request and echo-reply messages are used to ping a network device for the purpose of diagnosing the health and connectivity of the device and the connection between the sender and the device.

An ICMP request requires some server resources to process each request and to send a response. The request also requires bandwidth on both the incoming message (echo-request) and outgoing response (echo-reply). The Ping Flood attack aims to overwhelm the targeted device’s ability to respond to the high number of requests and/or overload the network connection with bogus traffic. By having many devices in a [botnet](https://www.cloudflare.com/learning/ddos/what-is-a-ddos-botnet/) target the same internet property or infrastructure component with ICMP requests, the attack traffic is increased substantially, potentially resulting in a disruption of normal network activity. Historically, attackers would often [spoof](https://www.cloudflare.com/learning/ddos/glossary/ip-spoofing/) in a bogus [IP address](https://www.cloudflare.com/learning/dns/glossary/what-is-my-ip-address/) in order to mask the sending device. With modern botnet attacks, the malicious actors rarely see the need to mask the bot’s IP, and instead rely on a large network of un-spoofed [bots](https://www.cloudflare.com/learning/bots/what-is-a-bot/) to saturate a target’s capacity.

The DDoS form of a Ping (ICMP) Flood can be broken down into 2 repeating steps:

1. The attacker sends many ICMP echo request packets to the targeted server using multiple devices.
2. The targeted server then sends an ICMP echo reply packet to each requesting device’s IP address as a response.

![Ping ICMP DDoS Attack Diagram](https://www.cloudflare.com/img/learning/ddos/ping-icmp-flood-ddos-attack/ping-icmp-flood-ddos-attack-diagram.png "Ping ICMP DDoS Attack Diagram")

The damaging effect of a Ping Flood is directly proportional to the number of requests made to the targeted server. Unlike reflection-based DDoS attacks like [NTP amplification](https://www.cloudflare.com/learning/ddos/ntp-amplification-ddos-attack/) and [DNS amplification](https://www.cloudflare.com/learning/ddos/dns-amplification-ddos-attack/), Ping Flood attack traffic is symmetrical; the amount of bandwidth the targeted device receives is simply the sum of the total traffic sent from each bot.

## How is a Ping flood attack mitigated?

Disabling a ping flood is most easily accomplished by disabling the ICMP functionality of the targeted router, computer or other device. A network administrator can access the administrative interface of the device and disable its ability to send and receive any requests using the ICMP, effectively eliminating both the processing of the request and the Echo Reply. The consequence of this is that all network activities that involve ICMP are disabled, making the device unresponsive to ping requests, traceroute requests, and other network activities.
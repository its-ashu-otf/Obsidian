## What is DDoS mitigation?

DDoS mitigation refers to the process of successfully protecting a targeted server or network from a [distributed denial-of-service (DDoS) attack](https://www.cloudflare.com/learning/ddos/what-is-a-ddos-attack/). By utilizing specially designed network equipment or a cloud-based protection service, a targeted victim is able to mitigate the incoming threat.

![DDoS Mitigation Stages](https://www.cloudflare.com/img/learning/ddos/ddos-mitigation/ddos-mitigation-stages.png "DDoS Mitigation Stages")

There are 4 stages of mitigating a DDoS attack using a cloud-based provider:

1. **Detection** - in order to stop a distributed attack, a website needs to be able to distinguish an attack from a high volume of normal traffic. If a product release or other announcement has a website swamped with legitimate new visitors, the last thing the site wants to do is throttle them or otherwise stop them from viewing the content of the website. IP reputation, common attack patterns, and previous data assist in proper detection.
2. **Response** - in this step, the DDoS protection network responds to an incoming identified threat by intelligently dropping malicious bot traffic, and absorbing the rest of the traffic. Using [WAF](https://www.cloudflare.com/learning/ddos/glossary/web-application-firewall-waf/) page rules for [application layer (L7)](https://www.cloudflare.com/learning/ddos/what-is-layer-7/) attacks, or another filtration process to handle lower level (L3/L4) attacks such as [memcached](https://www.cloudflare.com/learning/ddos/memcached-ddos-attack/) or [NTP amplification](https://www.cloudflare.com/learning/ddos/ntp-amplification-ddos-attack/), a network is able to mitigate the attempt at disruption.
3. **Routing** - By intelligently routing traffic, an effective DDoS mitigation solution will break the remaining traffic into manageable chunks preventing [denial-of-service](https://www.cloudflare.com/learning/ddos/glossary/denial-of-service/).
4. **Adaptation** - A good network analyses traffic for patterns such as repeating offending IP blocks, particular attacks coming from certain countries, or particular protocols being used improperly. By adapting to attack patterns, a protection service can harden itself against future attacks.

## Choosing a DDoS mitigation service

Traditional DDoS mitigation solutions involved purchasing equipment that would live on site and filter incoming traffic. This approach involves purchasing and maintaining expensive equipment, and also relied on having a network capable of absorbing an attack. If a DDoS attack is large enough, it can take out the network infrastructure upstream preventing any on-site solution from being effective. When purchasing a [cloud-based DDoS mitigation service](https://www.cloudflare.com/ddos/), certain characteristics should be evaluated.

1. **Scalability** - an effective solution needs to be able to adapt to the needs of a growing business as well as respond to the growing size of DDoS attacks. Attacks larger than 2 terabits per second (Tbps) have occurred, and there’s no indication that the trend in attack traffic size is downward. Cloudflare’s network is capable of handling DDoS attacks considerably larger than have ever occurred.
2. **Flexibility** - being able to create ad hoc policies and patterns allows a web property to adapt to incoming threats in real time. The ability to implement page rules and populate those changes across the entire network is a critical feature in keeping a site online during an attack.
3. **Reliability** - much like a seatbelt, DDoS protection is something you only need when you need it, but when that time comes it better be functional. The reliability of a DDoS solution is essential to the success of any protection strategy. Make sure that the service has high uptime rates and site reliability engineers working 24 hours a day to keep the network online and identify new threats. Redundancy, failover and an expansive network of data centres should be central to the strategy of the platform.
4. **Network size** - DDoS attacks have patterns that occur across the Internet as particular protocols and attack vectors change over time. Having a large network with extensive data transfer allows a DDoS mitigation provider to analyse and respond to attacks quickly and efficiently, often stopping them before they ever occur. Cloudflare’s [network](https://www.cloudflare.com/network/) runs Internet requests for millions of websites, creating an advantage in analysing data from attack traffic around the globe.


## What is a Web Application Firewall (WAF)?

A WAF or web application firewall helps protect web applications by filtering and monitoring HTTP traffic between a web application and the Internet. It typically [protects web applications](https://www.cloudflare.com/application-services/solutions/) from attacks such as [cross-site forgery](https://www.cloudflare.com/learning/security/threats/cross-site-request-forgery/), [cross-site-scripting (XSS)](https://www.cloudflare.com/learning/security/threats/cross-site-scripting/), file inclusion, and [SQL injection](https://www.cloudflare.com/learning/security/threats/sql-injection/), among others.

A WAF is a protocol [layer 7](https://www.cloudflare.com/learning/ddos/what-is-layer-7/) defense (in the [OSI model](https://www.cloudflare.com/learning/ddos/glossary/open-systems-interconnection-model-osi/)), and is not designed to defend against all types of attacks. This method of attack mitigation is usually part of a suite of tools which together create a holistic defense against a range of attack vectors.

By deploying a WAF in front of a web application, a shield is placed between the web application and the Internet. While a proxy server protects a client machine’s identity by using an intermediary, a WAF is a type of [reverse-proxy](https://www.cloudflare.com/learning/cdn/glossary/reverse-proxy/), protecting the server from exposure by having clients pass through the WAF before reaching the server.

A WAF operates through a set of rules often called policies. These policies aim to protect against vulnerabilities in the application by filtering out malicious traffic. The value of a WAF comes in part from the speed and ease with which policy modification can be implemented, allowing for faster response to varying attack vectors; during a [DDoS attack](https://www.cloudflare.com/learning/ddos/what-is-a-ddos-attack/), rate limiting can be quickly implemented by modifying WAF policies.

![DDOS How A WAF Works](https://www.cloudflare.com/img/learning/ddos/glossary/waf/waf.png "DDOS How A WAF Works")

## What is the difference between blocklist and allowlist WAFs?

A WAF that operates based on a blocklist (negative security model) protects against known attacks. Think of a blocklist WAF as a club bouncer instructed to deny admittance to guests who don’t meet the dress code. Conversely, a WAF based on an allowlist (positive security model) only admits traffic that has been pre-approved. This is like the bouncer at an exclusive party, he or she only admits people who are on the list. Both blocklists and allowlists have their advantages and drawbacks, which is why many WAFs offer a hybrid security model, which implements both.

## What are network-based, host-based, and cloud-based WAFs?

A WAF can be implemented one of three different ways, each with its own benefits and shortcomings:

- A network-based WAF is generally hardware-based. Since they are installed locally they minimize latency, but network-based WAFs are the most expensive option and also require the storage and maintenance of physical equipment.
- A host-based WAF may be fully integrated into an application’s software. This solution is less expensive than a network-based WAF and offers more customizability. The downside of a host-based WAF is the consumption of local server resources, implementation complexity, and maintenance costs. These components typically require engineering time, and may be costly.
- [Cloud](https://www.cloudflare.com/learning/cloud/what-is-the-cloud/)-based WAFs offer an affordable option that is very easy to implement; they usually offer a turnkey installation that is as simple as a change in [DNS](https://www.cloudflare.com/learning/ddos/glossary/domain-name-system-dns/) to redirect traffic. Cloud-based WAFs also have a minimal upfront cost, as users pay monthly or annually for security as a service. Cloud-based WAFs can also offer a solution that is [consistently updated to protect against the newest threats](https://developers.cloudflare.com/waf/managed-rulesets) without any additional work or cost on the user’s end. The drawback of a cloud-based WAF is that users hand over the responsibility to a third party, therefore some features of the WAF may be a black box to them. (A cloud-based WAF is one type of cloud firewall; learn more about [cloud firewalls](https://www.cloudflare.com/learning/cloud/what-is-a-cloud-firewall/).)